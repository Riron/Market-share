<ion-view title="To-Do">
  <ion-content class="has-header">
    <div class="item item-input-inset">
	    <label class="item-input-wrapper">
	      <input type="text" placeholder="Nouvelle tÃ¢che" ng-keydown="ctrl.addTodo($event)" ng-model="ctrl.value">
	    </label>
	  </div>
    <ion-list>
			<ion-item ng-repeat="todo in ctrl.todos | orderByPriority | filter:{checked: false}" class="todos">
				<div class="row">
				  <div class="col-textarea">
					  <label class="checkbox list-checkbox" ng-click="true">
							<input type="checkbox" ng-model="todo.checked" ng-change="ctrl.todoCheck(todo.$id)">
						</label>
					</div>
				  <div class="col" ui-sref="app.todo({todosId: ctrl.listId, todoId: todo.$id})">{{todo.value}}</div>
				</div>	  		
  		<ion-option-button class="button-assertive" ng-click="ctrl.deleteTodo(todo.$id)"><i class="ion-close-round"></i></ion-option-button>
    	</ion-item>
    	<div class="item item-divider">
				Recently Completed
		  </div>
		  <ion-item ng-repeat="todo in ctrl.todos | orderByPriority | filter:{checked: true}" class="todos">
				<div class="row">
				  <div class="col-textarea">
					  <label class="checkbox list-checkbox" ng-click="true">
							<input type="checkbox" ng-model="todo.checked" ng-change="ctrl.todoCheck(todo.$id)">
						</label>
					</div>
				  <div class="col" ui-sref="app.todo({todoId: todo.$id})">{{todo.value}}</div>
				</div>	  		
  		<ion-option-button class="button-assertive" ng-click="ctrl.deleteTodo(todo.$id)"><i class="ion-close-round"></i></ion-option-button>
    	</ion-item>
		</ion-list>
  </ion-content>
</ion-view>
